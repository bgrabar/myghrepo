Allison
kcru should
but you’ll need to update your upload.py
with the one from https://github.com/10gen/kernel-tools/tree/master/codereview
there
upload.py is probably in ~/codereview
I can give you a new kcru if your kcru isn’t working, as well
BobG
thanks! was away from desk
i will need a kcru
Allison
no worries
BobG
can you send?
Allison
#!/bin/bash

jiraUsername='allison.moore'
 
# get the commit message
msg=`git log -1 --oneline | cut -d' ' -f2-`
hash=`git rev-parse HEAD`
hash=`git rev-parse HEAD~`..${hash}

if [[ $# -eq 0 ]]; then
# just last commit
python ~/codereview/upload.py -m "$msg" --rev $hash --jira_user $jiraUsername
else
# issue given

if [ $1 == "--help" ]; then
 echo "First: issue; Second: hash; Third: message."
 exit 0
fi

issue=$1
hash=$2
msg=$3
python ~/codereview/upload.py -m "$msg" -i $issue --rev $hash  --jira_user $jiraUsername
fi

#eof
replace my jira username with your own
BobG
thanks!
gonna use yours
:)
Allison
and correct the python paths to be where your upload.py is located
if it is not in ~/codereview/upload.py
BobG 1:10 PM
cool! thanks


